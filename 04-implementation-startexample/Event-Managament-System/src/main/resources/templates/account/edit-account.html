<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Edit Account</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" />
</head>
<body>
    <main class="container">
        <h2>Edit Account</h2>
        
        <form th:action="@{/account/edit}" th:object="${accountDTO}" method="post">
            <!-- 基本信息 -->
            <label for="name">
                Name:
                <input type="text" id="name" th:field="*{name}" required/>
            </label>

            <label for="email">
                Email:
                <input type="email" id="email" th:field="*{email}" readonly/>
            </label>

            <!-- 组织者特有信息 -->
            <div th:if="${accountDTO.role == 'ORGANISER'}">
                <label for="companyName">
                    Company Name:
                    <input type="text" id="companyName" th:field="*{companyName}"/>
                </label>

                <label for="companyAddress">
                    Company Address:
                    <input type="text" id="companyAddress" th:field="*{companyAddress}"/>
                </label>

                <label for="companyPhone">
                    Company Phone:
                    <input type="text" id="companyPhone" th:field="*{companyPhone}"/>
                </label>
            </div>

            <div class="grid">
                <div>
                    <button type="submit">Save Changes</button>
                </div>
                <div>
                    <a th:href="@{/account/my-account}" role="button" class="secondary outline">Cancel</a>
                </div>
            </div>
        </form>

        <!-- 错误消息显示 -->
        <div th:if="${errorMessage}" class="alert alert-error">
            <p th:text="${errorMessage}">Error message</p>
        </div>
    </main>
</body>
</html> 